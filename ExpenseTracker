import java.util.ArrayList;
import java.util.Scanner;

public class ExpenseTracker {
    private ArrayList<Budget> budgets = new ArrayList<>();
    private ArrayList<Expense> expenses = new ArrayList<>();
    private User user;
    private ArrayList<String> categories = new ArrayList<>();

    { // Set Defaults but you can create custom categories naman
        categories.add("Food");
        categories.add("Transportation");
        categories.add("Entertainment");
        categories.add("Utilities");
        categories.add("Shopping");
        categories.add("Healthcare");
        categories.add("Education");
        categories.add("Other");
    }
    
    public boolean login(String email, String password) {
        if (user != null && 
            user.getUserEmail().equals(email) && 
            user.getUserPassword().equals(password)) {
            return true; // Login successful
        }
        return false; 
    }
    
    public void setBudget() {
        Scanner sc = new Scanner(System.in);
        System.out.println("Set Budget");
        System.out.println("==========");
        
        // Ask for total amount
        System.out.print("Enter total budget amount: ");
        float amount = sc.nextFloat();
        sc.nextLine(); 
        
        // Ask for start date
        System.out.println("\nEnter Start Date:");
        System.out.print("Year: ");
        String startYear = sc.nextLine();
        System.out.print("Month: ");
        String startMonth = sc.nextLine();
        System.out.print("Day: ");
        String startDay = sc.nextLine();
        System.out.print("Hour: ");
        String startHour = sc.nextLine();
        System.out.print("Minute: ");
        String startMinute = sc.nextLine();
        
        DateTime startDate = new DateTime(startYear, startMonth, startDay, startHour, startMinute);
        
        // Ask for end date
        System.out.println("\nEnter End Date:");
        System.out.print("Year: ");
        String endYear = sc.nextLine();
        System.out.print("Month: ");
        String endMonth = sc.nextLine();
        System.out.print("Day: ");
        String endDay = sc.nextLine();
        System.out.print("Hour: ");
        String endHour = sc.nextLine();
        System.out.print("Minute: ");
        String endMinute = sc.nextLine();
        
        DateTime endDate = new DateTime(endYear, endMonth, endDay, endHour, endMinute);
        
        // Ask for category
        System.out.println("\nAvailable Categories:");
        for (int i = 0; i < categories.size(); i++) {
            System.out.println((i + 1) + ". " + categories.get(i));
        }
        System.out.print("Choose a category (1-" + categories.size() + "), type a new category, or press ENTER to have no category: ");
        
        String categoryInput = sc.nextLine();
        String category = null;
        
        //this whole thing is from AI, for custom categories
        // memo : I AM NOT USING AI AS MUCH I PROMISE
        if (!categoryInput.isEmpty()) {
            try {
                int categoryChoice = Integer.parseInt(categoryInput);
                if (categoryChoice >= 1 && categoryChoice <= categories.size()) {
                    category = categories.get(categoryChoice - 1);
                }
            } catch (NumberFormatException e) {
                // If not a number, use the input as custom category
                category = categoryInput;
                // Add the custom category to the list
                if (!categories.contains(category)) {
                    categories.add(category);
                }
            }
        }
        
        // Create and store the budget
        Budget budget;
        if (category != null && !category.isEmpty()) {
            budget = new Budget(amount, startDate, endDate, category);
            System.out.println("Budget set successfully for category: " + category);
        } else {
            budget = new Budget(amount, startDate, endDate);
            System.out.println("Budget set successfully (no category)");
        }
        
        budgets.add(budget);
        
        // Display the summary of the budget
        System.out.println("\nBudget Summary:");
        System.out.println("Amount: " + amount);
        System.out.println("Start: " + startDate.getDateTimeString());
        System.out.println("End: " + endDate.getDateTimeString());
        if (category != null) {
            System.out.println("Category: " + category);
        }
    }


    
    public Budget getBudget() {
        if (!budgets.isEmpty()) {
            return budgets.get(budgets.size() - 1); // Return most recent budget
        }
        return null;
    }
}

    /*
    
    public void recordExpense() {
        
    }
    
    public float computeDailyAve() {
        
        return 0.0f;
    }
    
    public float computeWeeklyAve() {
        
        return 0.0f;
    }
    
    public float computeMonthlyAve() {
        
        return 0.0f;
    }
    
    public void viewMonthlyExpense() {
        
    }
    
    public void viewDailyExpense() {
        
    }
    
    public void viewWeeklyExpense() {
        
    }
    
    public void viewTotalCategoryExpense() {
        
    }
    
    public void viewTotalExpense() {
        
    }
    
    public void viewCategoryExpensePercentage() {
        
    }

    public ArrayList<String> getCategories() {
        return categories;
    }
}*/
